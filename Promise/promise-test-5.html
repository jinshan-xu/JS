<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    /*
      1. 测试 5 演示    
    */
    const timeout = ms => new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve();
      }, ms);
    });

    const ajax1 = () => timeout(2000).then(() => {
      console.log('1');
      return 1;
    });

    const ajax2 = () => timeout(1000).then(() => {
      console.log('2');
      return 2;
    });

    const ajax3 = () => timeout(2000).then(() => {
      console.log('3');
      return 3;
    });
    let ajaxArray = [ajax1, ajax2, ajax3];
    const mergePromise = (ajaxArray) => {
      // 在这里实现你的代码
      let data = [];
      let sequence = Promise.resolve();
      ajaxArray.forEach(item => {
        sequence = sequence.then(item).then(res => {
          data.push(res);
          return data;
        })
      })
      return sequence;
    };
    mergePromise(ajaxArray).then(data => {
      // console.log(data);
    });

    
  </script>
</body>

</html>